#!/bin/bash

set -x

BASEDIRECTORY="/srv/pbuilder/cache"

DIST=${DIST:-debian}
CODENAME=${CODENAME:-sid}
ARCH=${ARCH:-amd64}
COMPONENT="${COMPONENT:-heuler}"

# pbuilder options
BASETGZ="$BASEDIRECTORY/base-$DIST-$CODENAME-$ARCH.tgz"
DISTRIBUTION="$CODENAME"
BUILDRESULT="$BASEDIRECTORY/$DIST-$CODENAME-$ARCH/result/"
APTCACHE="$BASEDIRECTORY/$DIST-$CODENAME-$ARCH/aptcache/"

BUILDRESULTUID=x2go-admin
BUILDRESULTGID=x2go
# this needs to be disabled
CCACHEDIR=
APTCACHEHARDLINK="yes"
USE_DEBUILD_INTERNAL="yes"
PRESERVE_BUILDPLACE="yes"

ARCHITECTURE="$ARCH"

# pbuilder-uml option
UML_DISTRIBUTION="$CODENAME"

# qemubuilder options
BASEPATH="$BASEDIRECTORY/base-$DIST-$CODENAME-$ARCH.qemu"
KERNEL_IMAGE=/srv/pbuilder/qemu-kernels/$ARCH/vmlinuz
INITRD=/srv/pbuilder/qemu-kernels/$ARCH/initrd.img
if [ "x$ARCH" = "xarmel" ]; then
	MEMORY_MEGS=256
	ARCH_DISKDEVICE=hd
else
	MEMORY_MEGS=512
	ARCH_DISKDEVICE=sd
fi

if [ "x${DIST}" = "xubuntu" ]; then 
        MIRRORSITE="http://localhost:3142/ubuntu"
elif [ "x${DIST}" = "xdebian" ]; then
        MIRRORSITE="http://localhost:3142/debian"
fi
